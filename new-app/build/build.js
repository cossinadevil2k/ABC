Polymer("core-xhr",{request:function(options){var xhr=new XMLHttpRequest;var url=options.url;var method=options.method||"GET";var async=!options.sync;var params=this.toQueryString(options.params);if(params&&method=="GET"){url+=(url.indexOf("?")>0?"&":"?")+params}var xhrParams=this.isBodyMethod(method)?options.body||params:null;xhr.open(method,url,async);if(options.responseType){xhr.responseType=options.responseType}if(options.withCredentials){xhr.withCredentials=true}this.makeReadyStateHandler(xhr,options.callback);this.setRequestHeaders(xhr,options.headers);xhr.send(xhrParams);if(!async){xhr.onreadystatechange(xhr)}return xhr},toQueryString:function(params){var r=[];for(var n in params){var v=params[n];n=encodeURIComponent(n);r.push(v==null?n:n+"="+encodeURIComponent(v))}return r.join("&")},isBodyMethod:function(method){return this.bodyMethods[(method||"").toUpperCase()]},bodyMethods:{POST:1,PUT:1,DELETE:1},makeReadyStateHandler:function(xhr,callback){xhr.onreadystatechange=function(){if(xhr.readyState==4){callback&&callback.call(null,xhr.response,xhr)}}},setRequestHeaders:function(xhr,headers){if(headers){for(var name in headers){xhr.setRequestHeader(name,headers[name])}}}});Polymer("core-ajax",{url:"",handleAs:"",auto:false,params:"",response:null,method:"",headers:null,body:null,contentType:"application/x-www-form-urlencoded",withCredentials:false,xhrArgs:null,ready:function(){this.xhr=document.createElement("core-xhr")},receive:function(response,xhr){if(this.isSuccess(xhr)){this.processResponse(xhr)}else{this.error(xhr)}this.complete(xhr)},isSuccess:function(xhr){var status=xhr.status||0;return!status||status>=200&&status<300},processResponse:function(xhr){var response=this.evalResponse(xhr);this.response=response;this.fire("core-response",{response:response,xhr:xhr})},error:function(xhr){var response=xhr.status+": "+xhr.responseText;this.fire("core-error",{response:response,xhr:xhr})},complete:function(xhr){this.fire("core-complete",{response:xhr.status,xhr:xhr})},evalResponse:function(xhr){return this[(this.handleAs||"text")+"Handler"](xhr)},xmlHandler:function(xhr){return xhr.responseXML},textHandler:function(xhr){return xhr.responseText},jsonHandler:function(xhr){var r=xhr.responseText;try{return JSON.parse(r)}catch(x){return r}},documentHandler:function(xhr){return xhr.response},blobHandler:function(xhr){return xhr.response},arraybufferHandler:function(xhr){return xhr.response},urlChanged:function(){if(!this.handleAs){var ext=String(this.url).split(".").pop();switch(ext){case"json":this.handleAs="json";break}}this.autoGo()},paramsChanged:function(){this.autoGo()},autoChanged:function(){this.autoGo()},autoGo:function(){if(this.auto){this.goJob=this.job(this.goJob,this.go,0)}},go:function(){var args=this.xhrArgs||{};args.body=this.body||args.body;args.params=this.params||args.params;if(args.params&&typeof args.params=="string"){args.params=JSON.parse(args.params)}args.headers=this.headers||args.headers||{};if(args.headers&&typeof args.headers=="string"){args.headers=JSON.parse(args.headers)}if(this.contentType){args.headers["content-type"]=this.contentType}if(this.handleAs==="arraybuffer"||this.handleAs==="blob"||this.handleAs==="document"){args.responseType=this.handleAs}args.withCredentials=this.withCredentials;args.callback=this.receive.bind(this);args.url=this.url;args.method=this.method;return args.url&&this.xhr.request(args)}});Polymer("core-selection",{multi:false,ready:function(){this.clear()},clear:function(){this.selection=[]},getSelection:function(){return this.multi?this.selection:this.selection[0]},isSelected:function(item){return this.selection.indexOf(item)>=0},setItemSelected:function(item,isSelected){if(item!==undefined&&item!==null){if(isSelected){this.selection.push(item)}else{var i=this.selection.indexOf(item);if(i>=0){this.selection.splice(i,1)}}this.fire("core-select",{isSelected:isSelected,item:item})}},select:function(item){if(this.multi){this.toggle(item)}else if(this.getSelection()!==item){this.setItemSelected(this.getSelection(),false);this.setItemSelected(item,true)}},toggle:function(item){this.setItemSelected(item,!this.isSelected(item))}});Polymer("core-selector",{selected:null,multi:false,valueattr:"name",selectedClass:"core-selected",selectedProperty:"",selectedAttribute:"active",selectedItem:null,selectedModel:null,selectedIndex:-1,target:null,itemsSelector:"",activateEvent:"tap",notap:false,ready:function(){this.activateListener=this.activateHandler.bind(this);this.observer=new MutationObserver(this.updateSelected.bind(this));if(!this.target){this.target=this}},get items(){if(!this.target){return[]}var nodes=this.target!==this?this.itemsSelector?this.target.querySelectorAll(this.itemsSelector):this.target.children:this.$.items.getDistributedNodes();return Array.prototype.filter.call(nodes||[],function(n){return n&&n.localName!=="template"})},targetChanged:function(old){if(old){this.removeListener(old);this.observer.disconnect();this.clearSelection()}if(this.target){this.addListener(this.target);this.observer.observe(this.target,{childList:true});this.updateSelected()}},addListener:function(node){Polymer.addEventListener(node,this.activateEvent,this.activateListener)},removeListener:function(node){Polymer.removeEventListener(node,this.activateEvent,this.activateListener)},get selection(){return this.$.selection.getSelection()},selectedChanged:function(){this.updateSelected()},updateSelected:function(){this.validateSelected();if(this.multi){this.clearSelection();this.selected&&this.selected.forEach(function(s){this.valueToSelection(s)},this)}else{this.valueToSelection(this.selected)}},validateSelected:function(){if(this.multi&&!Array.isArray(this.selected)&&this.selected!==null&&this.selected!==undefined){this.selected=[this.selected]}},clearSelection:function(){if(this.multi){this.selection.slice().forEach(function(s){this.$.selection.setItemSelected(s,false)},this)}else{this.$.selection.setItemSelected(this.selection,false)}this.selectedItem=null;this.$.selection.clear()},valueToSelection:function(value){var item=value===null||value===undefined?null:this.items[this.valueToIndex(value)];this.$.selection.select(item)},updateSelectedItem:function(){this.selectedItem=this.selection},selectedItemChanged:function(){if(this.selectedItem){var t=this.selectedItem.templateInstance;this.selectedModel=t?t.model:undefined}else{this.selectedModel=null}this.selectedIndex=this.selectedItem?parseInt(this.valueToIndex(this.selected)):-1},valueToIndex:function(value){for(var i=0,items=this.items,c;c=items[i];i++){if(this.valueForNode(c)==value){return i}}return value},valueForNode:function(node){return node[this.valueattr]||node.getAttribute(this.valueattr)},selectionSelect:function(e,detail){this.updateSelectedItem();if(detail.item){this.applySelection(detail.item,detail.isSelected)}},applySelection:function(item,isSelected){if(this.selectedClass){item.classList.toggle(this.selectedClass,isSelected)}if(this.selectedProperty){item[this.selectedProperty]=isSelected}if(this.selectedAttribute&&item.setAttribute){if(isSelected){item.setAttribute(this.selectedAttribute,"")}else{item.removeAttribute(this.selectedAttribute)}}},activateHandler:function(e){if(!this.notap){var i=this.findDistributedTarget(e.target,this.items);if(i>=0){var item=this.items[i];var s=this.valueForNode(item)||i;if(this.multi){if(this.selected){this.addRemoveSelected(s)}else{this.selected=[s]}}else{this.selected=s}this.asyncFire("core-activate",{item:item})}}},addRemoveSelected:function(value){var i=this.selected.indexOf(value);if(i>=0){this.selected.splice(i,1)}else{this.selected.push(value)}this.valueToSelection(value)},findDistributedTarget:function(target,nodes){while(target&&target!=this){var i=Array.prototype.indexOf.call(nodes,target);if(i>=0){return i}target=target.parentNode}}});Polymer("core-localstorage",{name:"",value:null,useRaw:false,autoSaveDisabled:false,attached:function(){this.async("load")},valueChanged:function(){if(this.loaded&&!this.autoSaveDisabled){this.save()}},load:function(){var v=localStorage.getItem(this.name);if(this.useRaw){this.value=v}else{if(v===null){if(this.value!==null){this.save()}}else{try{v=JSON.parse(v)}catch(x){}this.value=v}}this.loaded=true;this.asyncFire("core-localstorage-load")},save:function(){var v=this.useRaw?this.value:JSON.stringify(this.value);localStorage.setItem(this.name,v)}});Polymer("core-header-panel",{publish:{mode:{value:"",reflect:true},tallClass:"tall",shadow:false},domReady:function(){this.async("scroll")},modeChanged:function(){this.scroll()},get header(){return this.$.headerContent.getDistributedNodes()[0]},scroll:function(){var shadowMode={waterfall:1,"waterfall-tall":1};var noShadow={seamed:1,cover:1,scroll:1};var tallMode={"waterfall-tall":1};var main=this.$.mainContainer;var header=this.header;var sTop=main.scrollTop;var atTop=sTop===0;if(header){this.$.dropShadow.classList.toggle("hidden",!this.shadow&&(atTop&&shadowMode[this.mode]||noShadow[this.mode]));if(tallMode[this.mode]){header.classList.toggle(this.tallClass,atTop)}header.classList.toggle("animate",tallMode[this.mode])}}});Polymer("core-toolbar");(function(){var SKIP_ID="meta";var metaData={},metaArray={};Polymer("core-meta",{type:"default",alwaysPrepare:true,ready:function(){this.register(this.id)},get metaArray(){var t=this.type;if(!metaArray[t]){metaArray[t]=[]}return metaArray[t]},get metaData(){var t=this.type;if(!metaData[t]){metaData[t]={}}return metaData[t]},register:function(id,old){if(id&&id!==SKIP_ID){this.unregister(this,old);this.metaData[id]=this;this.metaArray.push(this)}},unregister:function(meta,id){delete this.metaData[id||meta.id];var i=this.metaArray.indexOf(meta);if(i>=0){this.metaArray.splice(i,1)}},get list(){return this.metaArray},byId:function(id){return this.metaData[id]}})})();Polymer("core-iconset",{src:"",width:0,icons:"",iconSize:24,offsetX:0,offsetY:0,type:"iconset",created:function(){this.iconMap={};this.iconNames=[];this.themes={}},ready:function(){if(this.src&&this.ownerDocument!==document){this.src=this.resolvePath(this.src,this.ownerDocument.baseURI)}this.super();this.updateThemes()},iconsChanged:function(){var ox=this.offsetX;var oy=this.offsetY;this.icons&&this.icons.split(/\s+/g).forEach(function(name,i){this.iconNames.push(name);this.iconMap[name]={offsetX:ox,offsetY:oy};if(ox+this.iconSize<this.width){ox+=this.iconSize}else{ox=this.offsetX;oy+=this.iconSize}},this)},updateThemes:function(){var ts=this.querySelectorAll("property[theme]");ts&&ts.array().forEach(function(t){this.themes[t.getAttribute("theme")]={offsetX:parseInt(t.getAttribute("offsetX"))||0,offsetY:parseInt(t.getAttribute("offsetY"))||0}},this)},getOffset:function(icon,theme){var i=this.iconMap[icon];if(!i){var n=this.iconNames[Number(icon)];i=this.iconMap[n]}var t=this.themes[theme];if(i&&t){return{offsetX:i.offsetX+t.offsetX,offsetY:i.offsetY+t.offsetY}}return i},applyIcon:function(element,icon,scale){var offset=this.getOffset(icon);scale=scale||1;if(element&&offset){var icon=element._icon||document.createElement("div");var style=icon.style;style.backgroundImage="url("+this.src+")";style.backgroundPosition=-offset.offsetX*scale+"px"+" "+(-offset.offsetY*scale+"px");style.backgroundSize=scale===1?"auto":this.width*scale+"px";if(icon.parentNode!==element){element.appendChild(icon)}return icon}}});(function(){var meta;Polymer("core-icon",{src:"",icon:"",alt:null,observe:{icon:"updateIcon",alt:"updateAlt"},defaultIconset:"icons",ready:function(){if(!meta){meta=document.createElement("core-iconset")}if(this.hasAttribute("aria-label")){if(!this.hasAttribute("role")){this.setAttribute("role","img")}return}this.updateAlt()},srcChanged:function(){var icon=this._icon||document.createElement("div");icon.textContent="";icon.setAttribute("fit","");icon.style.backgroundImage="url("+this.src+")";icon.style.backgroundPosition="center";icon.style.backgroundSize="100%";if(!icon.parentNode){this.appendChild(icon)}this._icon=icon},getIconset:function(name){return meta.byId(name||this.defaultIconset)},updateIcon:function(oldVal,newVal){if(!this.icon){this.updateAlt();return}var parts=String(this.icon).split(":");var icon=parts.pop();if(icon){var set=this.getIconset(parts.pop());if(set){this._icon=set.applyIcon(this,icon);if(this._icon){this._icon.setAttribute("fit","")}}}if(oldVal){if(oldVal.split(":").pop()==this.getAttribute("aria-label")){this.updateAlt()}}},updateAlt:function(){if(this.getAttribute("aria-hidden")){return}if(this.alt===""){this.setAttribute("aria-hidden","true");if(this.hasAttribute("role")){this.removeAttribute("role")}if(this.hasAttribute("aria-label")){this.removeAttribute("aria-label")}}else{this.setAttribute("aria-label",this.alt||this.icon.split(":").pop());if(!this.hasAttribute("role")){this.setAttribute("role","img")}if(this.hasAttribute("aria-hidden")){this.removeAttribute("aria-hidden")}}}})})();Polymer("core-item",{});Polymer("core-iconset-svg",{iconSize:24,type:"iconset",created:function(){this._icons={}},ready:function(){this.super();this.updateIcons()},iconById:function(id){return this._icons[id]||(this._icons[id]=this.querySelector("#"+id))},cloneIcon:function(id){var icon=this.iconById(id);if(icon){var content=icon.cloneNode(true);content.removeAttribute("id");var svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute("viewBox","0 0 "+this.iconSize+" "+this.iconSize);svg.style.pointerEvents="none";svg.appendChild(content);return svg}},get iconNames(){if(!this._iconNames){this._iconNames=this.findIconNames()}return this._iconNames},findIconNames:function(){var icons=this.querySelectorAll("[id]").array();if(icons.length){return icons.map(function(n){return n.id})}},applyIcon:function(element,icon){var root=element;var old=root.querySelector("svg");if(old){old.remove()}var svg=this.cloneIcon(icon);if(!svg){return}svg.setAttribute("height","100%");svg.setAttribute("width","100%");svg.setAttribute("preserveAspectRatio","xMidYMid meet");svg.style.display="block";root.insertBefore(svg,root.firstElementChild);return svg},updateIcons:function(selector,method){selector=selector||"[icon]";method=method||"updateIcon";var deep=window.ShadowDOMPolyfill?"":"html /deep/ ";var i$=document.querySelectorAll(deep+selector);for(var i=0,e;e=i$[i];i++){if(e[method]){e[method].call(e)}}}});Polymer("core-icon-button",{src:"",active:false,icon:"",activeChanged:function(){this.classList.toggle("selected",this.active)}});Polymer("core-menu");Polymer("core-transition",{type:"transition",go:function(node,state){this.complete(node)},setup:function(node){},teardown:function(node){},complete:function(node){this.fire("core-transitionend",null,node)},listenOnce:function(node,event,fn,args){var self=this;var listener=function(){fn.apply(self,args);node.removeEventListener(event,listener,false)};node.addEventListener(event,listener,false)}});Polymer("core-key-helper",{ENTER_KEY:13,ESCAPE_KEY:27});(function(){Polymer("core-overlay-layer",{publish:{opened:false},openedChanged:function(){this.classList.toggle("core-opened",this.opened)},addElement:function(element){if(!this.parentNode){document.querySelector("body").appendChild(this)}if(element.parentNode!==this){element.__contents=[];var ip$=element.querySelectorAll("content");for(var i=0,l=ip$.length,n;i<l&&(n=ip$[i]);i++){this.moveInsertedElements(n);this.cacheDomLocation(n);n.parentNode.removeChild(n);element.__contents.push(n)}this.cacheDomLocation(element);this.updateEventController(element);var h=this.makeHost();h.shadowRoot.appendChild(element);element.__host=h}},makeHost:function(){var h=document.createElement("overlay-host");h.createShadowRoot();this.appendChild(h);return h},moveInsertedElements:function(insertionPoint){var n$=insertionPoint.getDistributedNodes();var parent=insertionPoint.parentNode;insertionPoint.__contents=[];for(var i=0,l=n$.length,n;i<l&&(n=n$[i]);i++){this.cacheDomLocation(n);this.updateEventController(n);insertionPoint.__contents.push(n);parent.appendChild(n)}},updateEventController:function(element){element.eventController=this.element.findController(element)},removeElement:function(element){element.eventController=null;this.replaceElement(element);var h=element.__host;if(h){h.parentNode.removeChild(h)}},replaceElement:function(element){if(element.__contents){for(var i=0,c$=element.__contents,c;c=c$[i];i++){this.replaceElement(c)}element.__contents=null}if(element.__parentNode){var n=element.__nextElementSibling&&element.__nextElementSibling===element.__parentNode?element.__nextElementSibling:null;element.__parentNode.insertBefore(element,n)}},cacheDomLocation:function(element){element.__nextElementSibling=element.nextElementSibling;element.__parentNode=element.parentNode}})})();(function(){Polymer("core-overlay",{publish:{target:null,sizingTarget:null,opened:false,backdrop:false,layered:false,autoCloseDisabled:false,closeAttribute:"core-overlay-toggle",closeSelector:"",margin:0,transition:"core-transition-fade"},captureEventName:"tap",targetListeners:{tap:"tapHandler",keydown:"keydownHandler","core-transitionend":"transitionend"},registerCallback:function(element){this.layer=document.createElement("core-overlay-layer");this.keyHelper=document.createElement("core-key-helper");this.meta=document.createElement("core-transition");this.scrim=document.createElement("div");this.scrim.className="core-overlay-backdrop"},ready:function(){this.target=this.target||this;Platform.flush()},toggle:function(){this.opened=!this.opened},open:function(){this.opened=true},close:function(){this.opened=false},domReady:function(){this.ensureTargetSetup()},targetChanged:function(old){if(this.target){if(this.target.tabIndex<0){this.target.tabIndex=-1}this.addElementListenerList(this.target,this.targetListeners);this.target.style.display="none"}if(old){this.removeElementListenerList(old,this.targetListeners);var transition=this.getTransition();if(transition){transition.teardown(old)}else{old.style.position="";old.style.outline=""}old.style.display=""}},ensureTargetSetup:function(){if(!this.target||this.target.__overlaySetup){return}this.target.__overlaySetup=true;this.target.style.display="";var transition=this.getTransition();if(transition){transition.setup(this.target)}var computed=getComputedStyle(this.target);this.targetStyle={position:computed.position==="static"?"fixed":computed.position};if(!transition){this.target.style.position=this.targetStyle.position;this.target.style.outline="none"}this.target.style.display="none"},openedChanged:function(){this.transitioning=true;this.ensureTargetSetup();this.prepareRenderOpened();this.async(function(){this.target.style.display="";this.async("renderOpened")});this.fire("core-overlay-open",this.opened)},prepareRenderOpened:function(){if(this.opened){addOverlay(this)}this.prepareBackdrop();this.async(function(){if(!this.autoCloseDisabled){this.enableElementListener(this.opened,document,this.captureEventName,"captureHandler",true)}});this.enableElementListener(this.opened,window,"resize","resizeHandler");if(this.opened){forcePolyfillRender(this.target);if(!this._shouldPosition){this.target.style.position="absolute";var computed=getComputedStyle(this.target);var t=computed.top==="auto"&&computed.bottom==="auto";var l=computed.left==="auto"&&computed.right==="auto";this.target.style.position=this.targetStyle.position;this._shouldPosition={top:t,left:l}}this.prepareMeasure(this.target);this.updateTargetDimensions();this.finishMeasure(this.target);if(this.layered){this.layer.addElement(this.target);this.layer.opened=this.opened}}},renderOpened:function(){var transition=this.getTransition();if(transition){transition.go(this.target,{opened:this.opened})}else{this.transitionend()}this.renderBackdropOpened()},transitionend:function(e){if(e&&e.target!==this.target){return}this.transitioning=false;if(!this.opened){this.resetTargetDimensions();this.target.style.display="none";this.completeBackdrop();removeOverlay(this);if(this.layered){if(!currentOverlay()){this.layer.opened=this.opened}this.layer.removeElement(this.target)}}this.fire("core-overlay-"+(this.opened?"open":"close")+"-completed");this.applyFocus()},prepareBackdrop:function(){if(this.backdrop&&this.opened){if(!this.scrim.parentNode){document.body.appendChild(this.scrim);this.scrim.style.zIndex=currentOverlayZ()-1}trackBackdrop(this)}},renderBackdropOpened:function(){if(this.backdrop&&getBackdrops().length<2){this.scrim.classList.toggle("core-opened",this.opened)}},completeBackdrop:function(){if(this.backdrop){trackBackdrop(this);if(getBackdrops().length===0){this.scrim.parentNode.removeChild(this.scrim)}}},prepareMeasure:function(target){target.style.transition=target.style.webkitTransition="none";target.style.transform=target.style.webkitTransform="none";target.style.display=""},finishMeasure:function(target){target.style.display="none";target.style.transform=target.style.webkitTransform="";target.style.transition=target.style.webkitTransition=""},getTransition:function(){return this.meta.byId(this.transition)},getFocusNode:function(){return this.target.querySelector("[autofocus]")||this.target},applyFocus:function(){var focusNode=this.getFocusNode();if(this.opened){focusNode.focus()}else{focusNode.blur();if(currentOverlay()==this){console.warn("Current core-overlay is attempting to focus itself as next! (bug)")}else{focusOverlay()}}},updateTargetDimensions:function(){this.positionTarget();this.sizeTarget();if(this.layered){var rect=this.target.getBoundingClientRect();this.target.style.top=rect.top+"px";this.target.style.left=rect.left+"px";this.target.style.right=this.target.style.bottom="auto"}},sizeTarget:function(){var sizer=this.sizingTarget||this.target;var rect=sizer.getBoundingClientRect();var mt=rect.top===this.margin?this.margin:this.margin*2;var ml=rect.left===this.margin?this.margin:this.margin*2;var h=window.innerHeight-rect.top-mt;var w=window.innerWidth-rect.left-ml;sizer.style.maxHeight=h+"px";sizer.style.maxWidth=w+"px";sizer.style.boxSizing="border-box"},positionTarget:function(){if(this._shouldPosition.top){var t=Math.max((window.innerHeight-this.target.offsetHeight-this.margin*2)/2,this.margin);this.target.style.top=t+"px"}if(this._shouldPosition.left){var l=Math.max((window.innerWidth-this.target.offsetWidth-this.margin*2)/2,this.margin);this.target.style.left=l+"px"}},resetTargetDimensions:function(){this.target.style.top=this.target.style.left="";this.target.style.right=this.target.style.bottom="";this.target.style.width=this.target.style.height="";this._shouldPosition=null},tapHandler:function(e){if(e.target&&(this.closeSelector&&e.target.matches(this.closeSelector))||this.closeAttribute&&e.target.hasAttribute(this.closeAttribute)){this.toggle()}else{if(this.autoCloseJob){this.autoCloseJob.stop();this.autoCloseJob=null}}},captureHandler:function(e){if(!this.autoCloseDisabled&&currentOverlay()==this){this.autoCloseJob=this.job(this.autoCloseJob,function(){this.close()})}},keydownHandler:function(e){if(!this.autoCloseDisabled&&e.keyCode==this.keyHelper.ESCAPE_KEY){this.close();e.stopPropagation()}},resizeHandler:function(){this.updateTargetDimensions()},addElementListenerList:function(node,events){for(var i in events){this.addElementListener(node,i,events[i])}},removeElementListenerList:function(node,events){for(var i in events){this.removeElementListener(node,i,events[i])}},enableElementListener:function(enable,node,event,methodName,capture){if(enable){this.addElementListener(node,event,methodName,capture)}else{this.removeElementListener(node,event,methodName,capture)}},addElementListener:function(node,event,methodName,capture){var fn=this._makeBoundListener(methodName);if(node&&fn){Polymer.addEventListener(node,event,fn,capture)}},removeElementListener:function(node,event,methodName,capture){var fn=this._makeBoundListener(methodName);if(node&&fn){Polymer.removeEventListener(node,event,fn,capture)}},_makeBoundListener:function(methodName){var self=this,method=this[methodName];if(!method){return}var bound="_bound"+methodName;if(!this[bound]){this[bound]=function(e){method.call(self,e)}}return this[bound]}});function forcePolyfillRender(target){if(window.ShadowDOMPolyfill){target.offsetHeight}}var overlays=[];function addOverlay(overlay){var z0=currentOverlayZ();overlays.push(overlay);var z1=currentOverlayZ();if(z1<=z0){applyOverlayZ(overlay,z0)}}function removeOverlay(overlay){var i=overlays.indexOf(overlay);if(i>=0){overlays.splice(i,1);setZ(overlay,"")}}function applyOverlayZ(overlay,aboveZ){setZ(overlay.target,aboveZ+2)}function setZ(element,z){element.style.zIndex=z}function currentOverlay(){return overlays[overlays.length-1]}var DEFAULT_Z=10;function currentOverlayZ(){var z;var current=currentOverlay();if(current){var z1=window.getComputedStyle(current.target).zIndex;if(!isNaN(z1)){z=Number(z1)}}return z||DEFAULT_Z}function focusOverlay(){var current=currentOverlay();if(current&&!current.transitioning){current.applyFocus()}}var backdrops=[];function trackBackdrop(element){if(element.opened){backdrops.push(element)}else{var i=backdrops.indexOf(element);if(i>=0){backdrops.splice(i,1)}}}function getBackdrops(){return backdrops}})();Polymer("core-popup-overlay",{publish:{relatedTarget:null,halign:"auto",valign:"auto"},positionTarget:function(){if(!this.relatedTarget){this.super();return}var top,left,bottom,right;var ref=this.relatedTarget.getBoundingClientRect();if(this.halign==="left"){left=ref.left}else if(this.halign==="right"){right=window.innerWidth-ref.right}else if(this.halign==="auto"){if(ref.left+this.target.offsetWidth>window.innerWidth){right=window.innerWidth-ref.right}else{left=ref.left}}if(this.valign==="top"){bottom=window.innerHeight-ref.bottom}else if(this.valign==="bottom"){top=ref.top}else if(this.valign==="auto"){if(ref.top+this.target.offsetHeight>window.innerHeight&&this.target.offsetHeight<window.innerHeight){bottom=window.innerHeight-ref.bottom}else{top=ref.top}}top!==undefined&&(this.target.style.top=top+"px");left!==undefined&&(this.target.style.left=left+"px");bottom!==undefined&&(this.target.style.bottom=bottom+"px");right!==undefined&&(this.target.style.right=right+"px")},sizeTarget:function(){var rect=this.relatedTarget.getBoundingClientRect();var sizer=this.sizingTarget||this.target;sizer.style.minWidth=rect.width+"px";this.super()}});Polymer("core-popup-menu",{publish:{relatedTarget:null,opened:false,halign:{value:"auto",reflect:true},valign:{value:"auto",reflect:true},selected:null,valueattr:"name",selectedClass:"core-selected",selectedProperty:"",selectedAttribute:"active",selectedItem:null,selectedModel:null,selectedIndex:-1},selectAction:function(){this.opened=false}});Polymer("core-menu-button",{publish:{icon:"dots",src:"",selected:"",opened:false,inlineMenu:false,halign:"auto",valign:"auto"},closeAction:function(){this.opened=false},toggle:function(){this.opened=!this.opened},get selection(){return this.$.menu.selection}});Polymer("core-tooltip",{label:null,noarrow:false,show:false,position:"bottom",attached:function(){this.setPosition()},labelChanged:function(oldVal,newVal){if(oldVal){this.setPosition()}},setPosition:function(){var controlWidth=this.clientWidth;var controlHeight=this.clientHeight;var styles=getComputedStyle(this.$.tooltip);var toolTipWidth=parseFloat(styles.width);var toolTipHeight=parseFloat(styles.height);switch(this.position){case"top":case"bottom":this.$.tooltip.style.left=(controlWidth-toolTipWidth)/2+"px";break;case"left":case"right":this.$.tooltip.style.top=(controlHeight-toolTipHeight)/2+"px";break}}});Polymer("core-input",{publish:{placeholder:"",disabled:false,readonly:false,autofocus:false,multiline:false,rows:"fit",inputValue:"",value:"",type:"text",required:false,pattern:".*",min:null,max:null,step:null,maxlength:null,invalid:false},ready:function(){this.handleTabindex(this.getAttribute("tabindex"))},invalidChanged:function(){this.classList.toggle("invalid",this.invalid);this.fire("input-"+(this.invalid?"invalid":"valid"),{value:this.inputValue})},inputValueChanged:function(){this.updateValidity_()},valueChanged:function(){this.inputValue=this.value},requiredChanged:function(){this.updateValidity_()},attributeChanged:function(attr,oldVal,curVal){if(attr==="tabindex"){this.handleTabindex(curVal)}},handleTabindex:function(tabindex){if(tabindex>0){this.$.input.setAttribute("tabindex",-1)}else{this.$.input.removeAttribute("tabindex")}},commit:function(){this.value=this.inputValue},updateValidity_:function(){if(this.$.input.willValidate){this.invalid=!this.$.input.validity.valid}},keydownAction:function(){if(this.type==="number"){this.async(function(){this.updateValidity_()})}},inputChangeAction:function(){this.commit();if(!window.ShadowDOMPolyfill){this.fire("change",null,this)}},focusAction:function(e){if(this.getAttribute("tabindex")>0){this.$.input.focus()}},inputFocusAction:function(e){if(window.ShadowDOMPolyfill){this.fire("focus",null,this,false)}},inputBlurAction:function(){if(window.ShadowDOMPolyfill){this.fire("blur",null,this,false)}},blur:function(){this.$.input.blur()},click:function(){this.$.input.click()},focus:function(){this.$.input.focus()},select:function(){this.$.input.focus()},setSelectionRange:function(selectionStart,selectionEnd,selectionDirection){this.$.input.setSelectionRange(selectionStart,selectionEnd,selectionDirection)},setRangeText:function(replacement,start,end,selectMode){if(!this.multiline){this.$.input.setRangeText(replacement,start,end,selectMode)}},stepDown:function(n){if(!this.multiline){this.$.input.stepDown(n)}},stepUp:function(n){if(!this.multiline){this.$.input.stepUp(n)}},get willValidate(){return this.$.input.willValidate},get validity(){return this.$.input.validity},get validationMessage(){return this.$.input.validationMessage},checkValidity:function(){var r=this.$.input.checkValidity();this.updateValidity_();return r},setCustomValidity:function(message){this.$.input.setCustomValidity(message);this.updateValidity_()}});(function(){window.CoreStyle=window.CoreStyle||{g:{},list:{},refMap:{}};Polymer("core-style",{publish:{ref:""},g:CoreStyle.g,refMap:CoreStyle.refMap,list:CoreStyle.list,ready:function(){if(this.id){this.provide()}else{this.registerRef(this.ref);if(!window.ShadowDOMPolyfill){this.require()}}},attached:function(){if(!this.id&&window.ShadowDOMPolyfill){this.require()}},provide:function(){this.register();if(this.textContent){this._completeProvide()}else{this.async(this._completeProvide)}},register:function(){var i=this.list[this.id];if(i){if(!Array.isArray(i)){this.list[this.id]=[i]}this.list[this.id].push(this)}else{this.list[this.id]=this}},_completeProvide:function(){this.createShadowRoot();this.domObserver=new MutationObserver(this.domModified.bind(this)).observe(this.shadowRoot,{subtree:true,characterData:true,childList:true});this.provideContent()},provideContent:function(){this.ensureTemplate();this.shadowRoot.textContent="";this.shadowRoot.appendChild(this.instanceTemplate(this.template));this.cssText=this.shadowRoot.textContent},ensureTemplate:function(){if(!this.template){this.template=this.querySelector("template:not([repeat]):not([bind])");if(!this.template){this.template=document.createElement("template");var n=this.firstChild;while(n){this.template.content.appendChild(n.cloneNode(true));n=n.nextSibling}}}},domModified:function(){this.cssText=this.shadowRoot.textContent;this.notify()},notify:function(){var s$=this.refMap[this.id];if(s$){for(var i=0,s;s=s$[i];i++){s.require()}}},registerRef:function(ref){this.refMap[this.ref]=this.refMap[this.ref]||[];this.refMap[this.ref].push(this)},applyRef:function(ref){this.ref=ref;this.registerRef(this.ref);this.require()},require:function(){var cssText=this.cssTextForRef(this.ref);if(cssText){this.ensureStyleElement();if(this.styleElement._cssText===cssText){return}this.styleElement._cssText=cssText;if(window.ShadowDOMPolyfill){this.styleElement.textContent=cssText;cssText=Platform.ShadowCSS.shimStyle(this.styleElement,this.getScopeSelector())}this.styleElement.textContent=cssText}},cssTextForRef:function(ref){var s$=this.byId(ref);
var cssText="";if(s$){if(Array.isArray(s$)){var p=[];for(var i=0,l=s$.length,s;i<l&&(s=s$[i]);i++){p.push(s.cssText)}cssText=p.join("\n\n")}else{cssText=s$.cssText}}if(s$&&!cssText){console.warn("No styles provided for ref:",ref)}return cssText},byId:function(id){return this.list[id]},ensureStyleElement:function(){if(!this.styleElement){this.styleElement=window.ShadowDOMPolyfill?this.makeShimStyle():this.makeRootStyle()}if(!this.styleElement){console.warn(this.localName,"could not setup style.")}},makeRootStyle:function(){var style=document.createElement("style");this.appendChild(style);return style},makeShimStyle:function(){var host=this.findHost(this);if(host){var name=host.localName;var style=document.querySelector("style["+name+"="+this.ref+"]");if(!style){style=document.createElement("style");style.setAttribute(name,this.ref);document.head.appendChild(style)}return style}},getScopeSelector:function(){if(!this._scopeSelector){var selector="",host=this.findHost(this);if(host){var typeExtension=host.hasAttribute("is");var name=typeExtension?host.getAttribute("is"):host.localName;selector=Platform.ShadowCSS.makeScopeSelector(name,typeExtension)}this._scopeSelector=selector}return this._scopeSelector},findHost:function(node){while(node.parentNode){node=node.parentNode}return node.host||wrap(document.documentElement)},cycle:function(rgb,amount){if(rgb.match("#")){var o=this.hexToRgb(rgb);if(!o){return rgb}rgb="rgb("+o.r+","+o.b+","+o.g+")"}function cycleChannel(v){return Math.abs((Number(v)-amount)%255)}return rgb.replace(/rgb\(([^,]*),([^,]*),([^,]*)\)/,function(m,a,b,c){return"rgb("+cycleChannel(a)+","+cycleChannel(b)+", "+cycleChannel(c)+")"})},hexToRgb:function(hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?{r:parseInt(result[1],16),g:parseInt(result[2],16),b:parseInt(result[3],16)}:null}})})();(function(){var paperInput=CoreStyle.g.paperInput=CoreStyle.g.paperInput||{};paperInput.focusedColor="#4059a9";paperInput.invalidColor="#d34336";Polymer("paper-input",{label:"",floatingLabel:false,maxRows:0,error:"",focused:false,pressed:false,attached:function(){if(this.multiline){this.resizeInput();window.requestAnimationFrame(function(){this.$.underlineContainer.classList.add("animating")}.bind(this))}},resizeInput:function(){var height=this.$.inputClone.getBoundingClientRect().height;var bounded=this.maxRows>0||this.rows>0;if(bounded){var minHeight=this.$.minInputHeight.getBoundingClientRect().height;var maxHeight=this.$.maxInputHeight.getBoundingClientRect().height;height=Math.max(minHeight,Math.min(height,maxHeight))}this.$.inputContainer.style.height=height+"px";this.$.underlineContainer.style.top=height+"px"},prepareLabelTransform:function(){var toRect=this.$.floatedLabelSpan.getBoundingClientRect();var fromRect=this.$.labelSpan.getBoundingClientRect();if(toRect.width!==0){this.$.label.cachedTransform="scale("+toRect.width/fromRect.width+") "+"translateY("+(toRect.bottom-fromRect.bottom)+"px)"}},toggleLabel:function(force){var v=force!==undefined?force:this.inputValue;if(!this.floatingLabel){this.$.label.classList.toggle("hidden",v)}if(this.floatingLabel&&!this.focused){this.$.label.classList.toggle("hidden",v);this.$.floatedLabel.classList.toggle("hidden",!v)}},rowsChanged:function(){if(this.multiline&&!isNaN(parseInt(this.rows))){this.$.minInputHeight.innerHTML="";for(var i=0;i<this.rows;i++){this.$.minInputHeight.appendChild(document.createElement("br"))}this.resizeInput()}},maxRowsChanged:function(){if(this.multiline&&!isNaN(parseInt(this.maxRows))){this.$.maxInputHeight.innerHTML="";for(var i=0;i<this.maxRows;i++){this.$.maxInputHeight.appendChild(document.createElement("br"))}this.resizeInput()}},inputValueChanged:function(){this.super();if(this.multiline){var escaped=this.inputValue.replace(/\n/gm,"<br>");if(!escaped||escaped.lastIndexOf("<br>")===escaped.length-4){escaped+="&nbsp"}this.$.inputCloneSpan.innerHTML=escaped;this.resizeInput()}this.toggleLabel()},labelChanged:function(){if(this.floatingLabel&&this.$.floatedLabel&&this.$.label){this.async(function(){this.prepareLabelTransform()})}},placeholderChanged:function(){this.label=this.placeholder},inputFocusAction:function(){if(!this.pressed){if(this.floatingLabel){this.$.floatedLabel.classList.remove("hidden");this.$.floatedLabel.classList.add("focused");this.$.floatedLabel.classList.add("focusedColor")}this.$.label.classList.add("hidden");this.$.underlineHighlight.classList.add("focused");this.$.caret.classList.add("focused");this.super(arguments)}this.focused=true},shouldFloatLabel:function(){return this.inputValue||this.type==="number"&&!this.validity.valid},inputBlurAction:function(){this.super(arguments);this.$.underlineHighlight.classList.remove("focused");this.$.caret.classList.remove("focused");if(this.floatingLabel){this.$.floatedLabel.classList.remove("focused");this.$.floatedLabel.classList.remove("focusedColor");if(!this.shouldFloatLabel()){this.$.floatedLabel.classList.add("hidden")}}if(!this.shouldFloatLabel()){this.$.label.classList.remove("hidden");this.$.label.classList.add("animating");this.async(function(){this.$.label.style.webkitTransform="none";this.$.label.style.transform="none"})}this.focused=false},downAction:function(e){if(this.disabled){return}if(this.focused){return}this.pressed=true;var rect=this.$.underline.getBoundingClientRect();var right=e.x-rect.left;this.$.underlineHighlight.style.webkitTransformOriginX=right+"px";this.$.underlineHighlight.style.transformOriginX=right+"px";this.$.underlineHighlight.classList.remove("focused");this.underlineAsync=this.async(function(){this.$.underlineHighlight.classList.add("pressed")},null,200);if(!this.inputValue){this.$.caret.classList.remove("focused")}},upAction:function(e){if(this.disabled){return}if(!this.pressed){return}if(e._source==="touch"){e.preventDefault()}if(this.underlineAsync){clearTimeout(this.underlineAsync);this.underlineAsync=null}this.$.input.focus();this.pressed=false;this.animating=true;this.$.underlineHighlight.classList.remove("pressed");this.$.underlineHighlight.classList.add("animating");this.async(function(){this.$.underlineHighlight.classList.add("focused")});if(!this.inputValue){this.$.caret.classList.add("animating");this.async(function(){this.$.caret.classList.add("focused")},null,100)}if(this.floatingLabel){this.$.label.classList.add("focusedColor");this.$.label.classList.add("animating");if(!this.$.label.cachedTransform){this.prepareLabelTransform()}this.$.label.style.webkitTransform=this.$.label.cachedTransform;this.$.label.style.transform=this.$.label.cachedTransform}},keydownAction:function(){this.super();if(this.type==="number"){this.async(function(){if(!this.inputValue){this.toggleLabel(!this.validity.valid)}})}},keypressAction:function(){if(this.animating){this.transitionEndAction()}},transitionEndAction:function(e){this.animating=false;if(this.pressed){return}if(this.focused){if(this.floatingLabel||this.inputValue){this.$.label.classList.add("hidden")}if(this.floatingLabel){this.$.label.classList.remove("focusedColor");this.$.label.classList.remove("animating");this.$.floatedLabel.classList.remove("hidden");this.$.floatedLabel.classList.add("focused");this.$.floatedLabel.classList.add("focusedColor")}this.async(function(){this.$.underlineHighlight.classList.remove("animating");this.$.caret.classList.remove("animating")},null,100)}else{this.$.label.classList.remove("animating")}}})})();Polymer("paper-focusable",{publish:{active:{value:false,reflect:true},focused:{value:false,reflect:true},pressed:{value:false,reflect:true},disabled:{value:false,reflect:true},isToggle:{value:false,reflect:false}},disabledChanged:function(){if(this.disabled){this.removeAttribute("tabindex")}else{this.setAttribute("tabindex",0)}},downAction:function(){this.pressed=true;this.focused=false;if(this.isToggle){this.active=!this.active}else{this.active=true}},contextMenuAction:function(e){this.upAction(e);this.focusAction()},upAction:function(){this.pressed=false;if(!this.isToggle){this.active=false}},focusAction:function(){if(!this.pressed){this.focused=true}},blurAction:function(){this.focused=false}});(function(){var waveMaxRadius=150;function waveRadiusFn(touchDownMs,touchUpMs,anim){var touchDown=touchDownMs/1e3;var touchUp=touchUpMs/1e3;var totalElapsed=touchDown+touchUp;var ww=anim.width,hh=anim.height;var waveRadius=Math.min(Math.sqrt(ww*ww+hh*hh),waveMaxRadius)*1.1+5;var duration=1.1-.2*(waveRadius/waveMaxRadius);var tt=totalElapsed/duration;var size=waveRadius*(1-Math.pow(80,-tt));return Math.abs(size)}function waveOpacityFn(td,tu,anim){var touchDown=td/1e3;var touchUp=tu/1e3;var totalElapsed=touchDown+touchUp;if(tu<=0){return anim.initialOpacity}return Math.max(0,anim.initialOpacity-touchUp*anim.opacityDecayVelocity)}function waveOuterOpacityFn(td,tu,anim){var touchDown=td/1e3;var touchUp=tu/1e3;var outerOpacity=touchDown*.3;var waveOpacity=waveOpacityFn(td,tu,anim);return Math.max(0,Math.min(outerOpacity,waveOpacity))}function waveDidFinish(wave,radius,anim){var waveOpacity=waveOpacityFn(wave.tDown,wave.tUp,anim);if(waveOpacity<.01&&radius>=Math.min(wave.maxRadius,waveMaxRadius)){return true}return false}function waveAtMaximum(wave,radius,anim){var waveOpacity=waveOpacityFn(wave.tDown,wave.tUp,anim);if(waveOpacity>=anim.initialOpacity&&radius>=Math.min(wave.maxRadius,waveMaxRadius)){return true}return false}function drawRipple(ctx,x,y,radius,innerColor,outerColor){if(outerColor){ctx.fillStyle=outerColor;ctx.fillRect(0,0,ctx.canvas.width,ctx.canvas.height)}ctx.beginPath();ctx.arc(x,y,radius,0,2*Math.PI,false);ctx.fillStyle=innerColor;ctx.fill()}function createWave(elem){var elementStyle=window.getComputedStyle(elem);var fgColor=elementStyle.color;var wave={waveColor:fgColor,maxRadius:0,isMouseDown:false,mouseDownStart:0,mouseUpStart:0,tDown:0,tUp:0};return wave}function removeWaveFromScope(scope,wave){if(scope.waves){var pos=scope.waves.indexOf(wave);scope.waves.splice(pos,1)}}var pow=Math.pow;var now=Date.now;if(window.performance&&performance.now){now=performance.now.bind(performance)}function cssColorWithAlpha(cssColor,alpha){var parts=cssColor.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(typeof alpha=="undefined"){alpha=1}if(!parts){return"rgba(255, 255, 255, "+alpha+")"}return"rgba("+parts[1]+", "+parts[2]+", "+parts[3]+", "+alpha+")"}function dist(p1,p2){return Math.sqrt(pow(p1.x-p2.x,2)+pow(p1.y-p2.y,2))}function distanceFromPointToFurthestCorner(point,size){var tl_d=dist(point,{x:0,y:0});var tr_d=dist(point,{x:size.w,y:0});var bl_d=dist(point,{x:0,y:size.h});var br_d=dist(point,{x:size.w,y:size.h});return Math.max(tl_d,tr_d,bl_d,br_d)}Polymer("paper-ripple",{initialOpacity:.25,opacityDecayVelocity:.8,backgroundFill:true,pixelDensity:2,eventDelegates:{down:"downAction",up:"upAction"},attached:function(){if(!this.$.canvas){var canvas=document.createElement("canvas");canvas.id="canvas";this.shadowRoot.appendChild(canvas);this.$.canvas=canvas}},ready:function(){this.waves=[]},setupCanvas:function(){this.$.canvas.setAttribute("width",this.$.canvas.clientWidth*this.pixelDensity+"px");this.$.canvas.setAttribute("height",this.$.canvas.clientHeight*this.pixelDensity+"px");var ctx=this.$.canvas.getContext("2d");ctx.scale(this.pixelDensity,this.pixelDensity);if(!this._loop){this._loop=this.animate.bind(this,ctx)}},downAction:function(e){this.setupCanvas();var wave=createWave(this.$.canvas);this.cancelled=false;wave.isMouseDown=true;wave.tDown=0;wave.tUp=0;wave.mouseUpStart=0;wave.mouseDownStart=now();var width=this.$.canvas.width/2;var height=this.$.canvas.height/2;var rect=this.getBoundingClientRect();var touchX=e.x-rect.left;var touchY=e.y-rect.top;wave.startPosition={x:touchX,y:touchY};if(this.classList.contains("recenteringTouch")){wave.endPosition={x:width/2,y:height/2};wave.slideDistance=dist(wave.startPosition,wave.endPosition)}wave.containerSize=Math.max(width,height);wave.maxRadius=distanceFromPointToFurthestCorner(wave.startPosition,{w:width,h:height});this.waves.push(wave);requestAnimationFrame(this._loop)},upAction:function(){for(var i=0;i<this.waves.length;i++){var wave=this.waves[i];if(wave.isMouseDown){wave.isMouseDown=false;wave.mouseUpStart=now();wave.mouseDownStart=0;wave.tUp=0;break}}this._loop&&requestAnimationFrame(this._loop)},cancel:function(){this.cancelled=true},animate:function(ctx){var shouldRenderNextFrame=false;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);var deleteTheseWaves=[];var longestTouchDownDuration=0;var longestTouchUpDuration=0;var lastWaveColor=null;var anim={initialOpacity:this.initialOpacity,opacityDecayVelocity:this.opacityDecayVelocity,height:ctx.canvas.height,width:ctx.canvas.width};for(var i=0;i<this.waves.length;i++){var wave=this.waves[i];if(wave.mouseDownStart>0){wave.tDown=now()-wave.mouseDownStart}if(wave.mouseUpStart>0){wave.tUp=now()-wave.mouseUpStart}var tUp=wave.tUp;var tDown=wave.tDown;longestTouchDownDuration=Math.max(longestTouchDownDuration,tDown);longestTouchUpDuration=Math.max(longestTouchUpDuration,tUp);var radius=waveRadiusFn(tDown,tUp,anim);var waveAlpha=waveOpacityFn(tDown,tUp,anim);var waveColor=cssColorWithAlpha(wave.waveColor,waveAlpha);lastWaveColor=wave.waveColor;var x=wave.startPosition.x;var y=wave.startPosition.y;if(wave.endPosition){var translateFraction=Math.min(1,radius/wave.containerSize*2/Math.sqrt(2));x+=translateFraction*(wave.endPosition.x-wave.startPosition.x);y+=translateFraction*(wave.endPosition.y-wave.startPosition.y)}var bgFillColor=null;if(this.backgroundFill){var bgFillAlpha=waveOuterOpacityFn(tDown,tUp,anim);bgFillColor=cssColorWithAlpha(wave.waveColor,bgFillAlpha)}drawRipple(ctx,x,y,radius,waveColor,bgFillColor);var maximumWave=waveAtMaximum(wave,radius,anim);var waveDissipated=waveDidFinish(wave,radius,anim);var shouldKeepWave=!waveDissipated||maximumWave;var shouldRenderWaveAgain=!waveDissipated&&!maximumWave;shouldRenderNextFrame=shouldRenderNextFrame||shouldRenderWaveAgain;if(!shouldKeepWave||this.cancelled){deleteTheseWaves.push(wave)}}if(shouldRenderNextFrame){requestAnimationFrame(this._loop)}for(var i=0;i<deleteTheseWaves.length;++i){var wave=deleteTheseWaves[i];removeWaveFromScope(this,wave)}if(!this.waves.length){ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);this._loop=null}}})})();Polymer("paper-shadow",{publish:{target:{value:null,reflect:true},z:{value:1,reflect:true},animated:{value:false,reflect:true},hasPosition:{value:false}},registerCallback:function(polymerElement){var template=polymerElement.querySelector("template");this._style=template.content.querySelector("style");this._style.removeAttribute("no-shim")},fetchTemplate:function(){return null},attached:function(){this.installScopeStyle(this._style);if(!this.target){if(!this.parentElement&&this.parentNode.host){this.target=this.parentNode.host}else if(this.parentElement&&(window.ShadowDOMPolyfill?this.parentElement!==wrap(document.body):this.parentElement!==document.body)){this.target=this.parentElement}}},targetChanged:function(old){if(old){this.removeShadow(old)}if(this.target){this.addShadow(this.target)}},zChanged:function(old){if(this.target&&this.target._paperShadow){var shadow=this.target._paperShadow;["top","bottom"].forEach(function(s){shadow[s].classList.remove("paper-shadow-"+s+"-z-"+old);shadow[s].classList.add("paper-shadow-"+s+"-z-"+this.z)}.bind(this))}},animatedChanged:function(){if(this.target&&this.target._paperShadow){var shadow=this.target._paperShadow;["top","bottom"].forEach(function(s){if(this.animated){shadow[s].classList.add("paper-shadow-animated")}else{shadow[s].classList.remove("paper-shadow-animated")}}.bind(this))}},addShadow:function(node){if(node._paperShadow){return}var computed=getComputedStyle(node);if(!this.hasPosition&&computed.position==="static"){node.style.position="relative"}node.style.overflow="visible";["top","bottom"].forEach(function(s){var inner=node._paperShadow&&node._paperShadow[s]||document.createElement("div");inner.classList.add("paper-shadow");inner.classList.add("paper-shadow-"+s+"-z-"+this.z);if(this.animated){inner.classList.add("paper-shadow-animated")}if(node.shadowRoot){node.shadowRoot.insertBefore(inner,node.shadowRoot.firstChild)}else{node.insertBefore(inner,node.firstChild)}node._paperShadow=node._paperShadow||{};node._paperShadow[s]=inner}.bind(this))},removeShadow:function(node){if(!node._paperShadow){return}["top","bottom"].forEach(function(s){node._paperShadow[s].remove()});node._paperShadow=null;node.style.position=null}});Polymer("paper-button",{publish:{label:"",raisedButton:{value:false,reflect:true},iconSrc:"",icon:""},z:1,attached:function(){if(this.textContent&&!this.textContent.match(/\s+/)){console.warn('Using textContent to label the button is deprecated. Use the "label" property instead');this.label=this.textContent}},activeChanged:function(){this.super();if(this.active){if(!this.lastEvent){var rect=this.getBoundingClientRect();this.lastEvent={x:rect.left+rect.width/2,y:rect.top+rect.height/2}}this.$.ripple.downAction(this.lastEvent)}else{this.$.ripple.upAction()}this.adjustZ()},focusedChanged:function(){this.super();this.adjustZ()},disabledChanged:function(){this.super();this.adjustZ()},insideButton:function(x,y){var rect=this.getBoundingClientRect();return rect.left<=x&&x<=rect.right&&rect.top<=y&&y<=rect.bottom},adjustZ:function(){if(this.focused){this.classList.add("paper-shadow-animate-z-1-z-2")}else{this.classList.remove("paper-shadow-animate-z-1-z-2");if(this.active){this.z=2}else if(this.disabled){this.z=0}else{this.z=1}}},downAction:function(e){this.super(e);this.lastEvent=e},labelChanged:function(){this.setAttribute("aria-label",this.label)}});Polymer("paper-icon-button",{publish:{fill:{value:false,reflect:true}},ready:function(){this.$.ripple.classList.add("recenteringTouch");this.fillChanged()},fillChanged:function(){this.$.ripple.classList.toggle("circle",!this.fill)},iconChanged:function(oldIcon){if(!this.label){this.setAttribute("aria-label",this.icon)}}});Polymer("paper-fab",{publish:{raisedButton:{value:true,reflect:true}}});Polymer("paper-dialog",{opened:false,backdrop:false,layered:false,autoCloseDisabled:false,closeSelector:"[dismissive],[affirmative]",heading:"",transition:"",toggle:function(){this.$.overlay.toggle()},headingChanged:function(){this.setAttribute("aria-label",this.heading)}});Polymer("core-transition-css",{baseClass:"core-transition",openedClass:"core-opened",closedClass:"core-closed",completeEventName:"transitionend",publish:{transitionType:null},registerCallback:function(element){this.transitionStyle=element.templateContent().firstElementChild},fetchTemplate:function(){return null},go:function(node,state){if(state.opened!==undefined){this.transitionOpened(node,state.opened)}},setup:function(node){if(!node._hasTransitionStyle){if(!node.shadowRoot){node.createShadowRoot().innerHTML="<content></content>"}this.installScopeStyle(this.transitionStyle,"transition",node.shadowRoot);node._hasTransitionStyle=true}node.classList.add(this.baseClass);if(this.transitionType){node.classList.add(this.baseClass+"-"+this.transitionType)}},teardown:function(node){node.classList.remove(this.baseClass);if(this.transitionType){node.classList.remove(this.baseClass+"-"+this.transitionType)}},transitionOpened:function(node,opened){this.listenOnce(node,this.completeEventName,function(){node.classList.toggle(this.revealedClass,opened);if(!opened){node.classList.remove(this.closedClass)}this.complete(node)});node.classList.toggle(this.openedClass,opened);node.classList.toggle(this.closedClass,!opened)}});Polymer("core-media-query",{queryMatches:false,query:"",ready:function(){this._mqHandler=this.queryHandler.bind(this);this._mq=null},queryChanged:function(){if(this._mq){this._mq.removeListener(this._mqHandler)}var query=this.query;if(query[0]!=="("){query="("+this.query+")"}this._mq=window.matchMedia(query);this._mq.addListener(this._mqHandler);this.queryHandler(this._mq)},queryHandler:function(mq){this.queryMatches=mq.matches;this.asyncFire("core-media-change",mq)}});(function(){var currentToast;Polymer("paper-toast",{text:"",duration:3e3,opened:false,responsiveWidth:"480px",swipeDisabled:false,eventDelegates:{trackstart:"trackStart",track:"track",trackend:"trackEnd",transitionend:"transitionEnd"},narrowModeChanged:function(){this.classList.toggle("fit-bottom",this.narrowMode)},openedChanged:function(){if(this.opened){this.dismissJob=this.job(this.dismissJob,this.dismiss,this.duration)}else{this.dismissJob&&this.dismissJob.stop();this.dismiss()}},toggle:function(){this.opened=!this.opened},show:function(){if(currentToast){currentToast.dismiss()}currentToast=this;this.opened=true},dismiss:function(){if(this.dragging){this.shouldDismiss=true}else{this.opened=false;if(currentToast===this){currentToast=null}}},trackStart:function(e){if(!this.swipeDisabled){e.preventTap();this.vertical=e.yDirection;this.w=this.offsetWidth;this.h=this.offsetHeight;this.dragging=true;this.classList.add("dragging")}},track:function(e){if(this.dragging){var s=this.style;if(this.vertical){var y=e.dy;s.opacity=(this.h-Math.abs(y))/this.h;s.webkitTransform=s.transform="translate3d(0, "+y+"px, 0)"}else{var x=e.dx;s.opacity=(this.w-Math.abs(x))/this.w;s.webkitTransform=s.transform="translate3d("+x+"px, 0, 0)"}}},trackEnd:function(e){if(this.dragging){this.classList.remove("dragging");this.style.opacity=null;this.style.webkitTransform=this.style.transform=null;var cl=this.classList;if(this.vertical){cl.toggle("fade-out-down",e.yDirection===1&&e.dy>0);cl.toggle("fade-out-up",e.yDirection===-1&&e.dy<0)}else{cl.toggle("fade-out-right",e.xDirection===1&&e.dx>0);cl.toggle("fade-out-left",e.xDirection===-1&&e.dx<0)}this.dragging=false}},transitionEnd:function(){var cl=this.classList;if(cl.contains("fade-out-right")||cl.contains("fade-out-left")||cl.contains("fade-out-down")||cl.contains("fade-out-up")){this.dismiss();cl.remove("fade-out-right","fade-out-left","fade-out-down","fade-out-up")}else if(this.shouldDismiss){this.dismiss()}this.shouldDismiss=false}})})();Polymer("wallet-list",{created:function(){},domReady:function(){},addWalletAction:function(){this.fire("add-wallet")},walletListChanged:function(){if(this.add_wallet){var currentWallet=this.findWalletById(this.current_walletId);this.wallet=currentWallet}else{this.wallet=this.walletList[0]}},getFirstWallet:function(){return this.walletList[0]},findWalletById:function(id){for(var i=this.walletList.length-1;i>=0;i--){var wallet=this.walletList[i];if(wallet._id===id)return wallet}this.fire("wallet-not-found");return null},walletClick:function(event,detail,sender){var wallet=sender.templateInstance.model.wallet;this.current_walletId=wallet._id;this.wallet=wallet},current_walletChanged:function(){}});Polymer("transaction-list",{emos:[":-w",":-)",":-("],formatDate:function(date,format){return moment(date).format(format)},walletChanged:function(e){console.log("transaction-list: walletChanged");this.updateTransaction()},domReady:function(){},randomEmo:function(){return this.emos[Math.floor(Math.random()*this.emos.length)]},currentTimeChanged:function(){this.emptyEmoText=this.randomEmo();this.updateTransaction()},updateTransaction:function(){var that=this;this.async(function(){that.$.transactionService.getTransaction(that.wallet,that.currentTime,function(data){console.log(data)})},null,1e3)},reloadTransactionList:function(){console.log("to do: reload transaction")},transactionsChanged:function(){var tempDate;var list=[];var indexList=-1;this.transactions.forEach(function(item){var transactionDate=moment(item.displayDate).format("YYYY-MM-DD");if(!tempDate||transactionDate!==tempDate){list.push({displayDate:transactionDate,data:[],amount:0});tempDate=transactionDate;indexList+=1}var amount=item.amount;if(item.category.type===2)amount*=-1;list[indexList].amount+=amount;list[indexList].data.push(item)});this.dataList=list},transactionClick:function(event,detail,sender){console.log("transactionClick");var transaction=sender.templateInstance.model.transaction;var dialog=this.$.transactionDetailDialog;console.log(dialog);dialog.showTransaction(transaction)}});Polymer("user-info-dialog",{created:function(){},domReady:function(){},showDialog:function(){this.$.userInfoDialog.toggle()},signOutAction:function(){var that=this;this.$["userLogoutService"].logout(function(result){if(result.error===0){localStorage.clear();history.pushState(null,"title","/login");history.go(0)}})}});Polymer("transaction-detail-dialog",{created:function(){this.showFragment="transactionDialog";this.withLabel="With"},domReady:function(){if(!this.editMode){this.heading="Add Transaction";var firstWallet=this.$.walletList.getFirstWallet()}else{this.heading="Edit Transaction"}},amountDisplayClass:function(categoryType){return categoryType===1?"positive":"negative"},iconUrlFilter:function(imgName){return(urlRoot+"/img/icon/"+imgName+".png").replace("icon//icon","icon")},formatDate:function(date,format){return moment(date).format(format)},categoryChangeAction:function(){if(this.transaction.account){this.category=this.transaction.category;this.showFragment="categoryDialog";this.$.category_picker.loadData(this.transaction.account._id)}else{this.fire("showToast",{msg:"Please select wallet first"})}},datePickerClicked:function(){this.showFragment="dateDialog"},categoryChanged:function(){this.transaction.category=this.category;if(this.category.metadata=="IS_DEBT"){this.withLabel="Debtor"}else if(this.category.metadata=="IS_LOAN"){this.withLabel="Lender"}else{this.withLabel="With"}},generateWithPersonDisplay:function(personList){if(!personList||personList.length===0)return"";else return personList[0]},showTransaction:function(transaction){this.showFragment="transactionDialog";this.transaction=cloneObject(transaction);this.$.transactionDetailDialog.toggle()},showAddTransaction:function(wallet){this.showFragment="transactionDialog";this.transaction={};if(wallet&&wallet._id=="all"){this.transaction.account=this.$.walletList.getFirstWallet()}else{this.transaction.account=wallet}this.transaction.category=this.getNoCategory();this.transaction.displayDate=new Date;this.showTransaction(this.transaction)},walletChanged:function(){this.transaction.category=getNoCategory()},getNoCategory:function(){return{name:"Select Category",icon:defaultCategoryIcon,type:2,virtualCate:true}},deleteTransaction:function(){console.log("delete transaction: "+this.transaction._id);var transactionService=this.$.transactionService;transactionService.addTransaction(this.transaction,function(data){this.fire("deleteTransaction")})},walletChangeAction:function(){this.$.walletPicker.toggle();this.$.eventPicker.opened=false},eventChangeAction:function(){if(!this.transaction.account){this.fire("showToast",{msg:"Test"})}else{this.$.eventList.getEventByWallet(this.transaction.account);this.$.eventPicker.toggle()}this.$.walletPicker.opened=false},walletTransactionChanged:function(){if(!this.transaction)return;this.transaction.account=this.walletTransaction;this.transaction.category=this.getNoCategory();this.transaction.campaign=[]},saveTransaction:function(){var transactionService=this.$.transactionService;var transaction=this.transaction;var status=this.transactionValidate(transaction);if(!status){return}if(this.editMode){console.log("edit transaction");transactionService.editTransaction(this.transaction,function(data){console.log(data);this.fire("editTransaction")})}else{console.log("add transaction");transactionService.addTransaction(this.transaction,function(data){console.log(data);this.fire("addTransaction")})}},transactionValidate:function(transaction){return true},campaignFilter:function(campaign){if(!campaign||campaign.length===0)return"No event";return campaign[0].name},eventChanged:function(){this.transaction.campaign=[this.event]},walletFilter:function(wallet){if(!wallet)return"Select wallet";else return wallet.name}});Polymer("transaction-list-timerange",{lastMonthString:null,thisMonthString:null,nextMonthString:null,created:function(){this.currentTime=this.currentTime?this.currentTime:new Date;this.thisMonthString=moment(new Date).format("MMMM-YYYY");this.nextMonthString=moment(new Date).add(1,"M").format("MMMM-YYYY");this.lastMonthString=moment(new Date).add(-1,"M").format("MMMM-YYYY")},domReady:function(){},timeDecr:function(){this.timeChange(-1)},timeIncr:function(){this.timeChange(1)},timeChange:function(valueChange){this.currentTime=moment(this.currentTime).add(valueChange,"M")},showDisplay:function(date,timeChange){return moment(date).add(timeChange,"M").format("MMMM-YYYY")},friendlyDate:function(dateString){if(dateString===this.thisMonthString){return"THIS MONTH"}else if(dateString===this.lastMonthString){return"LAST MONTH"}else if(dateString===this.nextMonthString){return"NEXT MONTH"}return dateString}});Polymer("category-picker-dialog",{hideSearchInput:true,imgError:function(){this.category.icon=defaultCategoryIcon},categoryClicked:function(event,detail,sender){var category=sender.templateInstance.model.category;this.categorySelected=category;this.goBack()},loadData:function(walletId){this.$.service.run(walletId,function(data){if(data.error!==0)alert(data.msg)})},amountDisplayClass:function(categoryType){return categoryType===1?"positive":"negative"},iconUrlFilter:function(imgName){return(urlRoot+"/img/icon/"+imgName+".png").replace("icon//icon","icon")},formatDate:function(date,format){return moment(date).format(format)},goBack:function(){this.showFragment="transactionDialog"},searchCategory:function(){console.log("searchCategory")},incomeCategoryFilter:function(){this.typeFilter=1;this.processedResults=this.filterByType(this.categoryList)},expenseCategoryFilter:function(){this.typeFilter=2;this.processedResults=this.filterByType(this.categoryList)},categoryListChanged:function(){this.processedResults=this.filterByType(this.categoryList)},typeFilterChanged:function(){this.processedResults=this.filterByType(this.categoryList)},processedResultsChanged:function(){console.log("list: "+this.processedResults.length)},filterByType:function(categoryList){if(!categoryList)return list;var list=[];for(key in categoryList){var category=categoryList[key];if(category.type==this.typeFilter)list.push(category)}return list},searchByNameInputChanged:function(){var input=this.searchByNameInput;if(!this.searchByNameInput){this.processedResults=this.filterByType(this.categoryList);return}var input=this.searchByNameInput.trim().toLowerCase();var list=[];var categories=this.filterByType(this.categoryList);for(key in categories){var category=categories[key];var categoryName=category.name.trim().toLowerCase();var parts=categoryName.split(" ");for(key in parts){var part=parts[key];if(part.indexOf(input)===0){list.push(category);break}}}if(list.length>0){this.processedResults=list}else{this.processedResults=this.filterByType(this.categoryList)}},toggleSearchInput:function(){this.hideSearchInput=!this.hideSearchInput;if(this.hideSearchInput==true){this.searchByNameInput=""}},searchInputBlur:function(){console.log("blurrrr");this.hideSearchInput=true},searchInputFocus:function(){console.log("focusss")}});Polymer("date-picker-dialog",{monthLabel:"",date:null,created:function(){this.dayLabels=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];this.monthsLabels=["January","February","March","April","May","June","July","August","September","October","November","December"];this.cal_days_in_month=[31,28,31,30,31,30,31,31,30,31,30,31];this.today=moment(new Date);this.today.millisecond(0);this.today.second(0);this.today.minute(0);this.today.hour(0)},dateClicked:function(event,detail,sender){var day=sender.templateInstance.model.day;console.log(day);this.currentDate=day;this.goBack()},formatDate:function(date,format){return moment(date).format(format)},jumpToToday:function(){console.log("jumpToToday");this.date=moment(new Date);this.makeCalendar(this.date)},compareSelectedDate:function(day){if(!day||!this.date)return false;var status=day.isSame(this.currentDate);return status},compareToday:function(day){if(!day)return false;return day.isSame(this.today)
},format:function(date,formatter){if(!date)return"";return date.format(formatter)},currentDateChanged:function(){this.date=moment(this.currentDate);this.date.millisecond(0);this.date.second(0);this.date.minute(0);this.date.hour(0);this.makeCalendar()},goBack:function(){this.showFragment="transactionDialog"},makeCalendar:function(){var year=this.date.year();var month=this.date.month();var firstDay=new Date(year,month,1);var startingDay=firstDay.getDay();var monthLength=this.cal_days_in_month[month];if(month==1){if(year%4==0&&year%100!=0||year%400==0){monthLength=29}}var day=1;var list=[];var baseDate=moment();baseDate.millisecond(0);baseDate.second(0);baseDate.minute(0);baseDate.hour(0);baseDate.month(month);baseDate.year(year);for(var i=0;i<9;i++){var week=[];for(var j=0;j<=6;j++){if(day<=monthLength){if(i>0||j>=startingDay){var dateStore=baseDate.clone();dateStore.date(day);week.push(dateStore);day++}else{week.push(null)}}}list.push(week);if(day>monthLength){break}}this.monthDataSheet=list;this.monthLabel=this.date.format("MMMM YYYY")},previousMonth:function(){this.date=this.date.add(-1,"M");this.makeCalendar(this.date)},nextMonth:function(){this.date=this.date.add(1,"M");this.makeCalendar(this.date)}});Polymer("event-list",{created:function(){},domReady:function(){},getEventByWallet:function(wallet){this.$.service.getByWallet(wallet)},eventClick:function(e,detail,sender){var event=sender.templateInstance.model.event;this.currentEvent=[event]},checkSelected:function(event){if(!this.currentEvent)return false;console.log(this.currentEvent);for(var i=this.currentEvent.length-1;i>=0;i--){var selectEvent=this.currentEvent[i];console.log(selectEvent);if(selectEvent._id===event._id)return true;else return false}}});Polymer("currency-picker-dialog",{hideSearchInput:true,currencyClicked:function(event,detail,sender){var currency=sender.templateInstance.model.currency;this.currencySelected=currency;this.goBack();this.searchByNameInput="";this.hideSearchInput=true},goBack:function(){this.showFragment="walletDialog"},imgError:function(){console.log("imgError")},flagUrlFilter:function(shortName){return urlRoot+"/img/flag/ic_currency_"+shortName.toLowerCase()+".png"},searchCurrency:function(){},currencyListChanged:function(){this.processedResults=this.currencyList},processedResultsChanged:function(){console.log("list: "+this.processedResults.length)},searchByNameInputChanged:function(){var input=this.searchByNameInput;console.log(input);if(!this.searchByNameInput){this.processedResults=this.currencyList;return}var input=this.searchByNameInput.trim().toLowerCase();var list=[];var currencies=this.processedResults;for(key in currencies){var currency=currencies[key];var currencyName=currency.n.trim().toLowerCase();var parts=currencyName.split(" ");for(key in parts){var part=parts[key];if(part.indexOf(input)===0){list.push(currency);break}}}if(list.length>0){this.processedResults=list}else{this.processedResults=this.currencyList}},toggleSearchInput:function(){this.hideSearchInput=!this.hideSearchInput;if(this.hideSearchInput==true){this.searchByNameInput=""}},searchInputBlur:function(){console.log("blurrrr");this.hideSearchInput=true}});Polymer("icon-picker-dialog",{hideSearchInput:true,iconClicked:function(event,detail,sender){var icon=sender.templateInstance.model.icon;this.iconSelected=icon;this.goBack();this.searchByNameInput="";this.hideSearchInput=true},iconUrlFilter:function(imgName){return(urlRoot+"/img/icon/"+imgName+".png").replace("icon//icon","icon")},goBack:function(){this.showFragment="walletDialog"}});Polymer("wallet-detail-dialog",{created:function(){this.showFragment="walletDialog";this.withLabel="With"},domReady:function(){if(!this.editMode){this.heading="Add Wallet"}else{this.heading="Edit Wallet"}},iconUrlFilter:function(imgName){return(urlRoot+"/img/icon/"+imgName+".png").replace("icon//icon","icon")},changeIconAction:function(){console.log("changeIconAction");this.showFragment="iconDialog"},currencyPickerClicked:function(){console.log("currencyPickerClicked");this.showFragment="currencyDialog"},show:function(){console.log("wallet detail show");this.showFragment="walletDialog";this.wallet={};this.wallet.icon="icon";this.$.walletDetailDialog.toggle()},currencyFilter:function(name){if(!name)return"Select currency";else return name},saveAction:function(){var walletService=this.$.walletService;if(this.editMode){console.log("edit wallet");walletService.editTransaction(this.wallet,function(data){console.log(data);this.fire("addWallet")})}else{console.log("add wallet");walletService.addTransaction(this.wallet,function(data){console.log(data);this.fire("addWallet")})}}});Polymer("item-amount",{amountDisplay:function(amount){if(this.currencyList){var currency=this.currencyList[this.currencyId-1];return amount+currency.s}else{return""}},amountDisplayClass:function(categoryType){return categoryType===1?"positive":"negative"}});Polymer("icon-group",{imgError:function(){this.wallet.icon=defaultWalletIcon},stackFilter:function(iconGroup){var size=iconGroup.length;return size===2?"stack2":"stack3"},iconUrlFilter:function(imgName){return(urlRoot+"/img/icon/"+imgName+".png").replace("icon//icon","icon")}});Polymer("item-event",{imgError:function(){this.wallet.icon=defaultWalletIcon},iconUrlFilter:function(imgName){return(urlRoot+"/img/icon/"+imgName+".png").replace("icon//icon","icon")}});Polymer("item-transaction",{imgError:function(){this.transaction.category.icon=defaultCategoryIcon},iconUrlFilter:function(imgName){return(urlRoot+"/img/icon/"+imgName+".png").replace("icon//icon","icon")}});Polymer("item-wallet",{imgError:function(){this.wallet.icon=defaultWalletIcon},iconUrlFilter:function(imgName){return(urlRoot+"/img/icon/"+imgName+".png").replace("icon//icon","icon")}});Polymer("forgot-password-service",{emailForgotSent:function(){var data=this.$.forgotPass.response;this.callback(data)},sendEmailForgot:function(email,callback){this.callback=callback;this.$.forgotPass.go()}});Polymer("user-login-service",{infoLoaded:function(){var data=this.$.userLogin.response;var error=data.error;if(error===0){console.log("logined");this.user=data.data;history.pushState(null,"title","/wallet/all");history.go(0)}else{this.callback(data.error)}},login:function(email,password,callback){this.callback=callback;this.$["userLogin"].go()}});Polymer("currency-service",{created:function(){},domReady:function(){if(!this.currencyList){this.$.ajax.go()}else{currencyList=this.currencyList}},postsLoaded:function(){this.currencyList=this.$.ajax.response.data;currencyList=this.currencyList}});Polymer("reset-password-service",{resetResult:function(){var data=this.$["resetPass"].response;this.callback(data)},resetConfirm:function(password,callback){this.callback=callback;this.$.resetPass.go()}});Polymer("sign-up-service",{signUpResult:function(){var data=this.$.userSignUp.response;this.callback(data)},signup:function(callback){this.callback=callback;this.$["userSignUp"].go()}});Polymer("category-list-service",{created:function(){},run:function(walletInfo,callback){this.callback=callback;if(walletInfo){this.param={accInfo:walletInfo};this.$.ajax.go()}else this.callback({error:10,msg:"wallet_info_empty"})},postsLoaded:function(event,response){var status=response.xhr.status;if(status===401){this.fire("sessionExpired")}else if(status===200){var data=response.response;if(data.error===0){this.categoryList=data.data;this.callback({error:0,msg:data.msg})}else this.callback({error:data.error,msg:data.msg})}}});Polymer("event-service",{getEventResult:function(event,response){var status=response.xhr.status;var data=response.response;if(status){if(status===200){if(data.error==0)this.eventList=data.data;this.callback({error:data.error,msg:data.msg})}else if(status===401){this.fire("sessionExpired")}}},eventListChanged:function(){console.log(this.eventList)},getByWallet:function(wallet,callback){this.callback=callback;if(wallet){this.param={walletInfo:wallet};this.$["getEvent"].go()}else{this.callback({error:10,msg:"wallet_info_empty"})}}});Polymer("icon-list-service",{getIconListResult:function(){var data=this.$["getIconList"].response;if(data.error===0){if(this.iconList){if(this.iconList.timeStamp){if(this.iconList.timeStamp<data.timeStamp){this.iconList=data}}else{this.iconList=data}}else{this.iconList=data}}}});Polymer("wallet-list-service",{created:function(){this.walletList=this.walletList||[];this.include_all_wallet=false},postsLoaded:function(event,response){var status=response.xhr.status;if(status){if(status===401){this.fire("sessionExpired")}else if(status===200){var data=response.response;var size=data.length;if(size>1&&this.include_all_wallet){var iconGroup=[];iconGroup.push(data[0].icon);iconGroup.push(data[1].icon);if(size>2){iconGroup.push(data[2].icon)}this.walletList.push({name:"all account",_id:"all",iconGroup:iconGroup})}[].push.apply(this.walletList,data)}}}});Polymer("transaction-service",{postLoaded:function(event,response){var status=response.xhr.status;if(status){if(status===401){this.fire("sessionExpired")}else if(status===200){var data=response.response;this.callback(data)}}},addTransaction:function(transaction,callback){this.callback=callback;if(transaction){this.url="../api/add-transaction.json";this.params={transInfo:transaction};this.$["service"].go()}else this.callback({error:10,msg:"transaction_info_empty"})},editTransaction:function(transaction,callback){this.callback=callback;if(transaction){this.url="../api/edit-transaction.json";this.params={transInfo:transaction};this.$["service"].go()}else this.callback({error:10,msg:"transaction_info_empty"})},deleteTransaction:function(transaction,callback){this.callback=callback;if(transaction){this.url="../api/delete-transaction.json";this.params={transInfo:transaction};this.$["service"].go()}else this.callback({error:10,msg:"transaction_info_empty"})}});Polymer("transaction-list-service",{created:function(){this.transactions=[]},postsLoaded:function(event,response){var status=response.xhr.status;if(status){if(status===401){this.fire("sessionExpired")}else if(status===200){var res=response.response;if(res.error===0){this.transactions=res.data.transactions;this.callback({error:res.error,msg:res.msg})}else{this.callback(res)}}}},getTransaction:function(wallet,time,callback){this.callback=callback;if(wallet){if(!time){time.startDate=0;time.endDate=0}this.wallet=wallet;this.time=time;this.$["ajax"].go()}else{this.callback({error:10,msg:"wallet_info_empty"})}}});Polymer("user-logout-service",{userLogoutResult:function(){var data=this.$["userLogoutReqeust"].response;this.callback(data)},logout:function(callback){this.callback=callback;this.$["userLogoutReqeust"].go()}});Polymer("wallet-service",{postLoaded:function(event,response){var status=response.xhr.status;if(status){if(status===401){this.fire("sessionExpired")}else if(status===200){var data=response.response;this.callback(data)}}},addTransaction:function(transaction,callback){this.callback=callback;if(transaction){this.url="../api/add-transaction.json";this.params={transInfo:transaction};this.$["service"].go()}else this.callback({error:10,msg:"transaction_info_empty"})},editTransaction:function(transaction,callback){this.callback=callback;if(transaction){this.url="../api/edit-transaction.json";this.params={transInfo:transaction};this.$["service"].go()}else this.callback({error:10,msg:"transaction_info_empty"})},deleteTransaction:function(transaction,callback){this.callback=callback;if(transaction){this.url="../api/delete-transaction.json";this.params={transInfo:transaction};this.$["service"].go()}else this.callback({error:10,msg:"transaction_info_empty"})}});