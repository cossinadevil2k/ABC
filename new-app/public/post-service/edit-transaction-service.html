

<polymer-element name="edit-transaction-service">
    <template>
        <style>
            :host {display: none;}
        </style>

        <core-ajax
                id="editTransRequest"
                url="../api/edit-transaction.json"
                handleAs="json"
                params='{{param}}'
                on-core-response="{{editTransResult}}">
        </core-ajax>
    </template>
    <script>
        Polymer('edit-transaction-service', {
            editTransResult: function(event, response){
                var status = response.xhr.status;

                if(status) {
                    if (status === 401) {
                        this.fire('sessionExpired');
                    } else if (status===200) {
                        var data = response.response;
                        this.callback(data);
                    }
                }
            },
            edit: function(transInfo, callback){
                this.callback = callback;
                if(transInfo) {
                    this.param = {transInfo: transInfo};
                    this.$['editTransRequest'].go();
                } else this.callback({error: 10, msg:"transaction_info_empty"});
            }
        })
    </script>
</polymer-element>