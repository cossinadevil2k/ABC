

<polymer-element name="forgot-password-service">
    <template>
        <style>
            :host {
                display: none;
            }
        </style>
        <core-ajax
                id="forgotPass"
                url="/forgot-password"
                method="POST"
                params='{"email":"{{email}}"}'
                handleAs="json"
                on-core-response="{{emailForgotSent}}">
        </core-ajax>

    </template>

    <script>
        Polymer('forgot-password-service', {
            emailForgotSent: function(){
                var data = this.$.forgotPass.response;
                this.callback(data);
            },
            sendEmailForgot: function(email, callback){
                this.callback = callback;
                if(email) {
                    this.email = email;
                    console.log(this.email);
                    this.$['forgotPass'].go();
                } else this.callback({error: 10, msg:"forgot_email_empty"});
            }
        })
    </script>
</polymer-element>