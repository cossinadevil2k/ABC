
<div class="row">
	<div class="col-lg-12">
		<div class="module" style="border: 1px dashed #ccc;">
			<div class="module-content actionPromote">
				<button class="btn btn-success btn-lg" ng-click="addPromote()"><i class="icon-usd"></i> New Promotion</button>
				<button class="btn btn-default btn-lg" ng-click="listCategory()"><i class="icon-sitemap"></i> All Categories</button>
			</div>

		</div>

        <div class="module" ng-show="createPromote">
			<div class="module-header">
				<button type="button" name="button" class="btn btn-primary backToListPromote" ng-click="returnList()"><small>BACK</small></button>
				<h4 ng-bind="titleFormPromote" class="titleFormPromote"></h4>
			</div>
			<div class="module-content">
				<div ng-include="'/partials/promotion/create-promote.html'"></div>
			</div>
		</div>

		<div class="module no-padding" ng-show="!createPromote">
			<div class="module-header">
				<h4>
					Promotions
					<div class="input-group quick-search-box">
                        <input type="text" autofocus class="form-control" ng-model="keyword" placeholder="Type something..." enter-press='search(keyword)'>
                        <div class="input-group-btn">
                            <button type="button" class="btn btn-info" ng-click="search(keyword)" ng-disabled="isLoading"><i class="icon-search"></i> SEARCH</button>
                        </div>
                    </div>
				</h4>
			</div>

			<div class="module-content">

                <table class="table table-striped">

                	<thead>
                		<tr>
                			<th>#</th>
                			<th>Category</th>
                			<th>Title</th>
                			<th class="hidden-xs">Created</th>
                			<th>By</th>
                			<th>Views</th>
                			<th>Status</th>
                			<th class="text-right">Actions</th>
                		</tr>
                	</thead>

                	<tbody>
                		<tr class="animate-repeat" ng-repeat="(key, promote) in listPromote | filter:keyword">
                			<td>{{ key + indexList + 1 }}</td>
                			<td>{{ promote.category.name}}</td>
                			<td>{{ promote.title}}</td>
                			<td class="hidden-xs">
                				<span>{{ promote.createdAt | date:'dd/MM/yyyy HH:mm' }}</span>
                			</td>
                			<td>
                				<span><i>{{ promote.owner.email }}</i></span>
                			</td>
                			<td>
                				<span>{{ promote.views | number : fractionSize }}</span>
                			</td>
                			<td ng-click='changeStatus(promote)'>
                				<span tooltip='Click to change status' ng-class='{publicPromote: promote.status=="Public", draftPromote: promote.status=="Draft"}'>{{ promote.status }}</span>
                			</td>
                			<td class="text-right hidden-xs">
                				<button class="btn btn-xs reviewPromote" ng-click="review(promote)" tooltip="Review">
                					<i class="icon-laptop"></i>
                				</button>
                				<button class="btn btn-xs" ng-click="editPromote(promote)" tooltip="Edit">
                					<i class="icon-pencil"></i>
                				</button>
                				<button class="btn btn-xs" ng-click="deletePromote(promote)" tooltip="Delete">
                					<i class="icon-trash"></i>
                				</button>
                			</td>
                		</tr>

						<tr ng-if='isLoading'>
							<td colspan="12" class="text-center">
	                            <div class="boxLoading"></div>
	                        </td>
						</tr>

						<tr ng-show='noPromotions'>
							<td colspan="12">
								<div class="noPromotions">you have no promotion.</div>
							</td>
						</tr>

						<tr class="breakPage">
	                        <td colspan="12" class="text-center">
	                            <div class="btn-group">
	                                <a class="btn btn-default" ng-click="nextPage(-1)" ng-disabled="isFirstPage || isLoading"><i class="icon-fast-backward"></i></a>
	                                <button class="btn btn-default disabled" onclick="return false">Page {{page}}</button>
	                                <a class="btn btn-default" ng-click="nextPage(+1)" ng-disabled="isLastPage || isLoading"><i class="icon-fast-forward"></i></a>
	                            </div>
	                        </td>
	                    </tr>

                	</tbody>
                </table>
			</div>
		</div>


	</div>
</div>
